# RomanOstapchuk/mestoback-end-14.github.io

## v0.0.1

### Проект Mestoback-end создан для демонстрации работы серверной части проекта Mesto

### Разработка

npm run start запуск на 3000 порту без hot reload
npm run dev запуск на 3000 порту с hot reload

### Возможности 

1) В схему пользователя добавлены два поля: email и password. У каждого пользователя email уникален и валидируется на соответствие схеме электронной почты (использован модуль validator).
2) Переработан контроллер createUser - добавлены поля email и password. Пароль хешируется, данные всех полей приходят в теле запроса.
3) В файле controllers/users.js создан контроллер login, который получает из запроса почту и пароль и проверяет их. Если почта и пароль правильные, контроллер создает JWT сроком на неделю. JWT записывается в httpOnly куку.
4) В app.js созданы два обработчика POST-запросов на два роута: '/signin' и '/signup' с соответствующими контроллерами — login и createUser.
5) Создан мидлвэр для авторизации. Он верифицирует токен из заголовка.
6) Все маршруты (кроме создания нового пользователя и логина) защищены авторизацией.
7) Авторизацией защищены все маршруты, кроме создания нового пользователя и логина.
8) 
